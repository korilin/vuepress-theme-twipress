(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{419:function(e,t,v){"use strict";v.r(t);var p=v(2),_=Object(p.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("p",[e._v("本教程是使用 Pyinstaller 来将 Python 程序打包成 exe 可执行文件")]),e._v(" "),v("h3",{attrs:{id:"实现步骤"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#实现步骤"}},[e._v("#")]),e._v(" 实现步骤")]),e._v(" "),v("p",[e._v("首先要安装 Pyinstaller 包，在命令行窗口使用 pip 指令就可以完成：")]),e._v(" "),v("p",[v("code",[e._v("pip install pyinstaller")])]),e._v(" "),v("p",[e._v("安装成功后就可以进行打包了")]),e._v(" "),v("p",[e._v("在命令行进入要打包的 python 程序的目录下面")]),e._v(" "),v("p",[e._v("接着使用"),v("code",[e._v("pyinstaller file.py")]),e._v("就进行打包了 (file.py 是指你要打包的 python 文件）")]),e._v(" "),v("p",[v("strong",[e._v("这个指令也可以附带其他属性：")])]),e._v(" "),v("div",{staticClass:"language-text extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("-F  表示生成单个可执行文件\n-D  创建一个目录, 包含exe文件和依赖很多文件（默认选项）\n-w  表示去掉控制台窗口, 这样执行exe文件的时候不会出现窗口, 但会在后台运行, 用命令行还是可以看见执行情况的\n-c  使用控制台, 无界面(默认)；\n-p  表示你自己自定义需要加载的类路径\n-i  表示可执行文件的图标。\n")])])]),v("p",[e._v("例如我要生成一个带图标的 exe 文件，没有其他依赖文件的，那么就是使用指令："),v("code",[e._v("pyinstaller -F -i image.ico file.py")])]),e._v(" "),v("ul",[v("li",[e._v("image.ico 表示图标的路径")]),e._v(" "),v("li",[e._v("file.py 表示要打包的 python 文件")])]),e._v(" "),v("p",[e._v("打包后会生成 dict 文件夹和 buid 文件夹还有一个。spec 文件，其中 dict 就是放置我们要的 exe 文件的文件夹，其他两个是生成 exe 文件的过程中的中间产物，可以删掉。")]),e._v(" "),v("p",[e._v("pyinstaller 打包的时候会自动把其他依赖的包和其他 python 文件引入，所以不用担心调用的问题。")]),e._v(" "),v("p",[e._v("但是其他要使用到的文件并不会被添加进去，例如要使用的图片或者文档，所以要自己把文件添加到打包完的 exe 文件的目录下面相应的路径，否则会出现闪退或者文件执行失败。")]),e._v(" "),v("p",[e._v("另外就是，如果 py 文件的编码是 utf8, 但是文件里面又有中文的话，那么使用 windows 的命令行打包会出现编码错误。")]),e._v(" "),v("p",[e._v("解决的方法就是先使用 chcp 指令进入其他编码的命令行")]),e._v(" "),v("p",[v("strong",[e._v("以下是几种常用的编码：")])]),e._v(" "),v("div",{staticClass:"language-text extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("GBK(一般情况下为默认编码) 936\n美国英语 437\nutf-8 65001\n")])])]),v("p",[e._v("在这里我们要使用 utf-8 的编码，所以使用命令："),v("code",[e._v("chcp 65001")])]),e._v(" "),v("p",[e._v("设置编码后再进行打包就不会出现编码错误的情况了")]),e._v(" "),v("p",[e._v("最后就是，第一次打包出来的程序经常会出现各种问题，建议在命令行执行 exe 文件，这样可以看到报错的内容，以便结合情况解决问题。")])])}),[],!1,null,null,null);t.default=_.exports}}]);